<%= render partial: "shared/sub_navigation",
  locals: { hub: @hub } %>

<div class="heading">

  <h1><%= @hub.name %></h1>

  <%= render partial: "shared/date_menu" %>

</div>

<main>

  <div class="clear">

    <h2>Contributors</h2>

    <table>
      <tr>
        <th>Contributor</th>
        <th>Website Views</th>
        <th>Website Click Throughs</th>
        <th>Website Sessions</th>
        <th>Website Users</th>
        <% if api_data_for_date_range? %>
        <th>API Views</th>
        <th>API Users/Apps</th>
        <th>Type</th>
        <th>Subject</th>
        <th>Description</th>
        <th>Thumbnail</th>
        <th>Date</th>
        <th>Creator</th>
        <th>Location</th>
        <th>Langauge</th>
        <% end %>
        <% @hub.contributor_comparison.totals.each do |contributor, totals| %>
        <tr>
          <td>
            <a href="/hubs/<%= @hub.name %>/contributors/<%= contributor %>">
              <%= contributor %>
            </a>
          </td>
          <td><%= totals["Website"]["Views"] %></td>
          <td><%= totals["Website"]["Click Throughs"] %></td>
          <td><%= totals["Website"]["Sessions"] %></td>
          <td><%= totals["Website"]["Users"] %></td>
          <% if api_data_for_date_range? %>
          <td><%= totals["Api"]["Views"] %></td>
          <td><%= totals["Api"]["Users"] %></td>
          <td><%= totals["MetadataCompleteness"]["type"] %></td>
          <td><%= totals["MetadataCompleteness"]["subject"] %></td>
          <td><%= totals["MetadataCompleteness"]["description"] %></td>
          <td><%= totals["MetadataCompleteness"]["preview"] %></td>
          <td><%= totals["MetadataCompleteness"]["date"] %></td>
          <td><%= totals["MetadataCompleteness"]["creator"] %></td>
          <td><%= totals["MetadataCompleteness"]["location"] %></td>
          <td><%= totals["MetadataCompleteness"]["language"] %></td>
          <% end %>
        </tr>
        <% end %>
    </table>

  </div>
</main>
